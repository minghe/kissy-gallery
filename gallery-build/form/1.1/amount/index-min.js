KISSY.add("gallery/form/1.1/amount/index",function(c,b){function a(e,f){var d=this;a.superclass.constructor.call(d);d.set("num",e);d.set("hasDecimal",f)}c.extend(a,b,{convertAmount:function(){var f=this,e=f.get("num"),j=f.get("hasDecimal"),h,k="",g,d;if(j){k=e.replace(/\.+/g,".").replace(/(\.*$)/,"");h=k.indexOf(".");if(h!==-1){d=k.substr(0,h);g=k.substr(h,4).replace(/\./g,"").substr(0,2);if(g.length===1){g+="0"}}else{d=k;g="00"}return f._convertNatural(d)+f._convertDecimal(g)}else{k=e.toString().replace(/\./g,"");return f._convertNatural(k)}},_convertNatural:function(h){var g=this,k=g.get("_chineseArr"),j=["","\u62FE","\u4F70","\u4EDF","\u4E07","\u4EBF","\u70B9",""],f="",e=0,d=h.length;if(h===""){return"\u96F6"}for(i=d-1;i>=0;i--){switch(e){case 0:f=j[7]+f;break;case 4:f=j[4]+f;break;case 8:f=j[5]+f;j[7]=j[5];e=0;break}if(e%4===2&&h.charAt(i)==="0"&&h.charAt(i+2)!=="0"){f=k[0]+f}if(h.charAt(i)!=="0"){f=k[h.charAt(i)]+j[e%4]+f}e++}return f},_convertDecimal:function(e){var d="\u70B9",f=this.get("_chineseArr");d+=f[e.charAt(0)]+f[e.charAt(1)];return d}},{ATTRS:{num:{value:"",setter:function(d){if(typeof d!=="number"&&typeof d!=="string"){console.log("请传入正确格式的参数");return""}return d.toString().replace(/[^0-9\.]/g,"").replace(/(^0*)/,"")},getter:function(d){return d}},hasDecimal:{value:false,setter:function(d){return d},getter:function(d){return d}},_chineseArr:{value:["\u96F6","\u58F9","\u8D30","\u53C1","\u8086","\u4F0D","\u9646","\u67D2","\u634C","\u7396"]}}});return a},{requires:["base"]});